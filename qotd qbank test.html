<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interlink QOTD</title>
    <link rel="stylesheet" href="./styles.css">
    <script src="./react.production.min.js"></script>
    <script src="./react-dom.production.min.js"></script>
</head>
<body>
    <header>
        <h1>Question of the Day</h1>
    </header>
    <main>
        <div id="qotd-container">
            <h2>Loading Question...</h2>
        </div>
    </main>

    <script>
        async function loadQuestions() {
            try {
                // Fetch HTML content of QBank
                const response = await fetch('./Interlink QBank.html');
                const text = await response.text();

                // Parse HTML to extract questions
                const parser = new DOMParser();
                const doc = parser.parseFromString(text, 'text/html');
                const tableRows = doc.querySelectorAll('.question-table tbody tr');

                if (tableRows.length === 0) {
                    document.getElementById('qotd-container').innerHTML = '<p>No questions available.</p>';
                    return;
                }

                // Select a random question
                const randomRow = tableRows[Math.floor(Math.random() * tableRows.length)];
                const cells = randomRow.querySelectorAll('td');
                const questionID = cells[1]?.textContent.trim();
                const subject = cells[2]?.textContent.trim();
                const section = cells[3]?.textContent.trim();

                // Render question to the page
                document.getElementById('qotd-container').innerHTML = `
                    <div class="qotd-frame">
                        <div class="qotd-header">
                            <span class="qotd-subject"><strong>${subject}</strong></span>
                            <span class="qotd-id">ID: ${questionID}</span>
                        </div>
                        <div class="qotd-section">${section}</div>
                        <div class="qotd-question glow-text">
                            <strong>Question details not available in the current structure. Update as needed.</strong>
                        </div>
                    </div>`;
            } catch (error) {
                console.error('Error loading questions:', error);
                document.getElementById('qotd-container').innerHTML = '<p>Error loading questions. Please try again later.</p>';
            }
        }

        // Load questions on page load
        document.addEventListener('DOMContentLoaded', loadQuestions);
    </script>
</body>
</html>
